<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Special Date</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:ital,wght@1,700&family=Poppins:wght@300;500;600&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <!-- Placeholder for FontAwesome -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        /* --- RESET & BASE STYLES --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at center, #1a0505 0%, #000000 100%);
            color: white;
            overflow-x: hidden;
            height: 100vh;
            width: 100vw;
        }

        /* --- FONTS --- */
        h1,
        h2,
        h3 {
            font-family: 'Playfair Display', serif;
        }

        p,
        input,
        button {
            font-family: 'Montserrat', sans-serif;
        }

        /* --- UTILITIES --- */
        .hidden {
            display: none !important;
            opacity: 0;
            pointer-events: none;
        }

        .fade-in {
            animation: fadeIn 2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* --- LOCK SCREEN --- */
        #lock-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a0b0b 0%, #000000 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #lock-screen h1 {
            font-size: 3rem;
            margin-bottom: 2rem;
            color: #ff4d4d;
            text-shadow: 0 0 10px rgba(255, 77, 77, 0.5);
            animation: pulseText 3s infinite ease-in-out;
        }

        @keyframes pulseText {

            0%,
            100% {
                text-shadow: 0 0 10px rgba(255, 77, 77, 0.5);
            }

            50% {
                text-shadow: 0 0 25px rgba(255, 77, 77, 0.9);
            }
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        input[type="password"] {
            padding: 1rem 1.5rem;
            border-radius: 50px;
            border: 2px solid #ff4d4d;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1.2rem;
            text-align: center;
            outline: none;
            width: 250px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        input[type="password"]:focus,
        select:focus {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.4);
            transform: scale(1.02);
        }

        select {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            border: 1px solid #ff4d4d;
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            text-align: center;
            outline: none;
            width: 180px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            appearance: none;
            /* Remove default arrow */
            cursor: pointer;
            margin-top: 1rem;
            margin-bottom: 0;
        }

        .btn-unlock {
            padding: 0.8rem 2rem;
            background: #ff4d4d;
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, background 0.3s;
        }

        .btn-unlock:hover {
            transform: scale(1.05);
            background: #ff3333;
            box-shadow: 0 0 15px #ff3333;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-10px);
            }

            75% {
                transform: translateX(10px);
            }
        }

        .shake {
            animation: shake 0.3s ease-in-out;
        }

        .error-msg {
            color: #ff3333;
            height: 20px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
        }

        /* --- INTRO SCREEN --- */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 900;
            opacity: 0;
            pointer-events: none;
            /* simple pointer lock */
            transition: opacity 1.5s ease-in-out;
        }

        #intro-screen.active {
            opacity: 1;
            pointer-events: all;
        }

        .intro-text {
            font-size: 4rem;
            color: #e50914;
            /* Netflix Red */
            text-shadow: 0 0 20px rgba(229, 9, 20, 0.8);
            letter-spacing: 5px;
            text-transform: uppercase;
            animation: scaleIn 4.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }

        @keyframes scaleIn {
            0% {
                transform: scale(0.9);
                opacity: 0;
                filter: blur(10px);
            }

            40% {
                opacity: 1;
                filter: blur(0);
            }

            100% {
                transform: scale(1.1);
                opacity: 0;
                filter: blur(5px);
            }
        }

        /* --- MAIN CONTENT --- */
        #main-content {
            position: relative;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            /* Changed from center to allow scrolling */
            align-items: center;
            opacity: 0;
            transition: opacity 1.5s ease;
            overflow-y: auto;
            /* Enable scrolling */
            overflow-x: hidden;
            padding: 6rem 1rem;
            /* Add padding for scroll space */
        }


        /* Content Overlay */
        .content-overlay {
            text-align: center;
            z-index: 10;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 800px;
            width: 100%;
            margin-bottom: 2rem;
        }

        /* ... existing styles ... */



        /* --- PHOTO GALLERY --- */
        .gallery-section {
            margin-top: 3rem;
            width: 100%;
        }

        .gallery-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: #ffcccc;
            text-shadow: 0 0 10px rgba(255, 204, 204, 0.5);
        }

        .gallery-container {
            display: flex;
            overflow-x: auto;
            gap: 1rem;
            padding-bottom: 1rem;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            /* Smooth scroll on mobile */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .gallery-container::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .gallery-container {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        .gallery-item {
            flex: 0 0 250px;
            height: 350px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            scroll-snap-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: #000;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            border-color: #ff4d4d;
            box-shadow: 0 5px 15px rgba(255, 77, 77, 0.4);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        /* --- HEART GAME --- */
        .heart-game-section {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .heart-container {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto;
            cursor: pointer;
            transition: transform 0.1s;
            /* animation: heartbeat 2s infinite ease-in-out; Remove default beat when interacting */
        }

        /* Idle animation */
        .heart-container:not(:active) {
            animation: heartbeat 2s infinite ease-in-out;
        }

        .heart-container.beat-active {
            animation: elasticBounce 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .heart-container.beat-active .heart-fill {
            transition: none;
        }

        @keyframes elasticBounce {
            0% {
                transform: scale(1);
            }

            40% {
                transform: scale(1.25);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.08);
            }

            100% {
                transform: scale(1);
            }
        }

        .heart-bg {
            fill: rgba(255, 255, 255, 0.05);
            stroke: #ff4d4d;
            stroke-width: 2;
            filter: drop-shadow(0 0 5px rgba(255, 0, 0, 0.3));
        }

        .heart-fill {
            fill: #ff0000;
            transition: transform 0.2s;
        }

        .liquid-wave {
            animation: wave 4s linear infinite;
            transform-origin: 50% 50%;
        }

        @keyframes wave {
            0% {
                transform: translateX(0);
            }

            100% {
                transform: translateX(-50%);
            }
        }

        .click-instruction {
            margin-top: 1.5rem;
            font-size: 1.1rem;
            color: #ffcccc;
            animation: pulse 2s infinite;
            text-shadow: 0 0 10px rgba(255, 77, 77, 0.5);
        }

        @keyframes pulse {
            0% {
                opacity: 0.7;
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: 0.7;
            }
        }

        /* --- SURPRISE POPUP --- */
        #surprise-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #ff1a1a 0%, #660000 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s cubic-bezier(0.165, 0.84, 0.44, 1);
            text-align: center;
            padding: 2rem;
            overflow: hidden;
        }

        #surprise-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        /* Animated Background Hearts */
        .bg-heart {
            position: absolute;
            color: rgba(255, 255, 255, 0.1);
            font-size: 3rem;
            animation: floatUpBg 10s linear infinite;
            z-index: -1;
            will-change: transform, opacity;
        }

        @keyframes floatUpBg {
            0% {
                transform: translateY(110vh) scale(0.5) rotate(0deg);
                opacity: 0;
            }

            20% {
                opacity: 0.5;
            }

            100% {
                transform: translateY(-10vh) scale(1.2) rotate(360deg);
                opacity: 0;
            }
        }

        .surprise-text {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            /* Larger */
            color: #fff;
            margin-bottom: 1rem;
            line-height: 1.1;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: scale(0.5);
            opacity: 0;
            transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1);
            /* Elastic bounce */
        }

        #surprise-modal.active .surprise-text {
            transform: scale(1);
            opacity: 1;
            /* Delay text slightly for dramatic effect */
            transition-delay: 0.3s;
        }

        .surprise-subtext {
            font-size: 2rem;
            color: #ffcccc;
            transform: translateY(20px);
            opacity: 0;
            transition: all 1s ease 0.8s;
            /* Delayed appearance */
        }

        #surprise-modal.active .surprise-subtext {
            transform: translateY(0);
            opacity: 1;
        }

        .floating-heart {
            position: absolute;
            color: #ff4d4d;
            font-size: 2rem;
            pointer-events: none;
            animation: floatUp 1.5s ease-out forwards;
            z-index: 100;
            will-change: transform, opacity;
        }

        /* Pulse animation for the button in modal */
        #surprise-modal .btn-love {
            margin-top: 3rem;
            background: white;
            color: #d90429;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            animation: pulseBtn 2s infinite;
            transform: scale(0);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 1.2s, opacity 0.5s ease 1.2s;
            /* Long delay */
        }

        #surprise-modal.active .btn-love {
            transform: scale(1);
            opacity: 1;
        }

        @keyframes pulseBtn {
            0% {
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
                transform: scale(1);
            }

            50% {
                box-shadow: 0 0 40px rgba(255, 255, 255, 0.8);
                transform: scale(1.05);
            }

            100% {
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
                transform: scale(1);
            }
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(-150px) scale(1.5) rotate(20deg);
                opacity: 0;
            }
        }

        /* Scroller Styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }


        .hero-title {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, #ffffff, #ffcccc);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .sub-hero {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: #ddd;
        }

        .btn-love {
            padding: 1rem 3rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid white;
            color: white;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .btn-love:hover {
            background: white;
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-whatsapp {
            display: inline-block;
            margin-top: 2rem;
            padding: 0.8rem 2rem;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: transform 0.3s, box-shadow 0.3s, background 0.3s;
            border: 2px solid #ff4d4d;
        }

        .btn-whatsapp:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.6);
            background: #ff4d4d;
        }

        /* Timeline Section */
        #timeline {
            margin-top: 3rem;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }

        #timeline.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .counter-box {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .time-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .time-val {
            font-size: 2.5rem;
            font-weight: bold;
            font-family: 'Playfair Display', serif;
        }

        .time-label {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #ccc;
        }

        /* --- MODAL --- */
        #letter-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        #letter-modal.open {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.15);
            padding: 3rem;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            position: relative;
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #letter-modal.open .modal-content {
            transform: scale(1);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: white;
        }

        .letter-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-top: 1.5rem;
            color: #f0f0f0;
            font-style: italic;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.2rem;
            }

            .sub-hero {
                font-size: 1.1rem;
            }

            .counter-box {
                gap: 0.8rem;
            }

            .time-val {
                font-size: 1.5rem;
            }

            .intro-text {
                font-size: 2rem;
                padding: 0 1rem;
                text-align: center;
            }

            #lock-screen h1 {
                font-size: 2rem;
            }

            .surprise-text {
                font-size: 2.5rem;
            }

            .surprise-subtext {
                font-size: 1.2rem;
            }

            .modal-content {
                padding: 1.5rem;
                width: 95%;
            }

            .gallery-item {
                flex: 0 0 200px;
                height: 280px;
            }

            .close-lightbox {
                top: 1rem;
                right: 1rem;
                font-size: 2.5rem;
            }

            .btn-love {
                padding: 0.8rem 2rem;
                font-size: 1rem;
            }

            .close-modal {
                top: 0.5rem;
                right: 1rem;
                font-size: 2.5rem;
                color: #fff;
                opacity: 0.8;
                background: rgba(0, 0, 0, 0.3);
                width: 40px;
                height: 40px;
                line-height: 40px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            select {
                width: 150px;
                font-size: 0.85rem;
            }
        }

        /* --- LIGHTBOX --- */
        #lightbox-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 3000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        #lightbox-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        #lightbox-modal img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        #lightbox-modal.active img {
            transform: scale(1);
        }

        .close-lightbox {
            position: absolute;
            top: 2rem;
            right: 3rem;
            font-size: 3rem;
            color: white;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close-lightbox:hover {
            color: #ff4d4d;
        }
    </style>
</head>

<body>

    <!-- AUDIO: Hidden background music -->
    <audio id="bg-music" loop>
        <source src="./Chest pain.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <!-- LOCK SCREEN -->
    <div id="lock-screen">
        <h1>Unlock By Date</h1>
        <div class="input-group">
            <input type="password" id="password-input" placeholder="Enter special date (DDMMYYYY)">
            <button class="btn-unlock" onclick="checkPassword()">Unlock</button>
            <select id="music-select">
                <option value="./english.mp3">English</option>
                <option value="./Chest pain.mp3">Hindi</option>
                <option value="./telugu.mp3">Telugu</option>
            </select>
            <p class="error-msg" id="error-msg">Incorrect password, try again!</p>
        </div>
    </div>

    <!-- CINEMATIC INTRO -->
    <div id="intro-screen">
        <h1 class="intro-text">OUR LOVE STORY</h1>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main-content">
        <div class="content-overlay">
            <h1 class="hero-title">Since July 25, 2023 ‚ù§Ô∏è</h1>
            <p class="sub-hero">Every moment with you is magic.</p>
            <button class="btn-love" onclick="openModal()">Read My Letter üíå</button>

            <div id="timeline">
                <p style="margin-bottom: 1rem; font-size: 1.1rem; opacity: 0.8;">We have been together for:</p>
                <div class="counter-box">
                    <div class="time-unit">
                        <span class="time-val" id="days">0</span>
                        <span class="time-label">Days</span>
                    </div>
                    <div class="time-unit">
                        <span class="time-val" id="hours">0</span>
                        <span class="time-label">Hours</span>
                    </div>
                    <div class="time-unit">
                        <span class="time-val" id="minutes">0</span>
                        <span class="time-label">Mins</span>
                    </div>
                    <div class="time-unit">
                        <span class="time-val" id="seconds">0</span>
                        <span class="time-label">Secs</span>
                    </div>
                </div>
            </div>


            <!-- PHOTO GALLERY -->
            <div class="gallery-section">
                <h3 class="gallery-title">Our Memories üì∏</h3>
                <div class="gallery-container">
                    <div class="gallery-item"><img src="./image 1.jpeg" alt="Memory 1" onclick="openLightbox(this.src)">
                    </div>
                    <div class="gallery-item"><img src="./image 2.jpeg" alt="Memory 2" onclick="openLightbox(this.src)">
                    </div>
                    <div class="gallery-item"><img src="./image 3.jpeg" alt="Memory 3" onclick="openLightbox(this.src)">
                    </div>
                    <div class="gallery-item"><img src="./image 4.jpeg" alt="Memory 4" onclick="openLightbox(this.src)">
                    </div>
                    <div class="gallery-item"><img src="./image 5.jpeg" alt="Memory 5" onclick="openLightbox(this.src)">
                    </div>
                    <div class="gallery-item"><img src="./image 6.jpeg" alt="Memory 6" onclick="openLightbox(this.src)">
                    </div>
                    <div class="gallery-item"><img src="./image 7.jpeg" alt="Memory 7" onclick="openLightbox(this.src)">
                    </div>
                </div>
            </div>
            <!-- HEART TAPPING GAME -->
            <div class="heart-game-section">
                <p class="click-instruction">Tap the heart to fill it with love! ‚ù§Ô∏è</p>
                <div class="heart-container" onclick="handleHeartClick(this)">
                    <svg viewBox="0 0 32 29.6" style="width: 100%; height: 100%; overflow: visible;">
                        <defs>
                            <mask id="heart-mask">
                                <path d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                        c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z" fill="white" />
                            </mask>
                        </defs>
                        <!-- Background Outline -->
                        <path class="heart-bg" d="M23.6,0c-3.4,0-6.3,2.7-7.6,5.6C14.7,2.7,11.8,0,8.4,0C3.8,0,0,3.8,0,8.4c0,9.4,9.5,11.9,16,21.2
                        c6.1-9.3,16-12.1,16-21.2C32,3.8,28.2,0,23.6,0z" />

                        <!-- Liquid Fill Group -->
                        <g mask="url(#heart-mask)">
                            <rect id="fill-rect" x="0" y="30" width="32" height="30" fill="#ff0000"
                                style="transition: y 0.5s cubic-bezier(0.4, 0, 0.2, 1);" />
                            <!-- Optional: Add a wave path on top if needed, but simple rect fill up with transition is robust -->
                            <!-- Let's start with a smooth filling rect first as 'liquid' logic for simplicity and robustness -->
                        </g>
                    </svg>
                </div>
            </div>

        </div>
    </div>

    <!-- LOVE LETTER MODAL -->
    <div id="letter-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2>My Dear Love ‚ù§Ô∏è</h2>
            <p class="letter-text">
                From the very first moment we met on July 25, 2023, something in my world quietly shifted.
                What started as a simple day became the beginning of my favorite chapter.

                You are not just my happiness ‚Äî you are my calm in chaos,
                my comfort after a long day,
                the smile I look forward to,
                and the heart I feel safest with.

                Every memory with you feels precious.
                Every laugh we share feels like a blessing.
                Even the ordinary moments become magical just because they are with you.

                Thank you for choosing me,
                for standing beside me,
                and for filling my life with warmth I never knew I was missing.

                No matter how many days pass,
                I will always choose you.
                Again and again.

                Happy Valentine‚Äôs Day, my love.
                Forever yours. ‚ù§Ô∏è
            </p>
            <a href="https://wa.me/918019147309" target="_blank" class="btn-whatsapp">
                Message Me on WhatsApp üí¨
            </a>
        </div>
    </div>

    <!-- SPECIAL SURPRISE MODAL -->
    <div id="surprise-modal">
        <!-- Floating Backgoud Hearts (JS will populate or CSS specific elements) -->
        <h1 class="surprise-text">Happy Valentine's<br>Day My Love! üíñ</h1>
        <p class="surprise-subtext">You are my everything.</p>
        <button class="btn-love" onclick="closeSurprise()">I Love You Too!</button>
    </div>

    <!-- LIGHTBOX MODAL -->
    <div id="lightbox-modal" onclick="closeLightbox()">
        <span class="close-lightbox">&times;</span>
        <img id="lightbox-img" src="" alt="Full Size Memory">
    </div>

    <script>
        // --- CONFIGURATION ---
        const TARGET_DATE = new Date("2023-07-25T00:00:00"); // Start date
        const PASSWORD = "25072023";

        // --- ELEMENTS ---
        const lockScreen = document.getElementById('lock-screen');
        const introScreen = document.getElementById('intro-screen');
        const mainContent = document.getElementById('main-content');
        const passwordInput = document.getElementById('password-input');
        const errorMsg = document.getElementById('error-msg');
        const music = document.getElementById('bg-music');
        const letterModal = document.getElementById('letter-modal');
        const timeline = document.getElementById('timeline');


        // --- LIGHTBOX LOGIC ---
        const lightboxModal = document.getElementById('lightbox-modal');
        const lightboxImg = document.getElementById('lightbox-img');

        function openLightbox(src) {
            lightboxImg.src = src;
            lightboxModal.classList.add('active');
        }

        function closeLightbox() {
            lightboxModal.classList.remove('active');
        }
        // Prevent closing when clicking the image itself
        lightboxImg.addEventListener('click', function (e) {
            e.stopPropagation();
        });

        // --- PASSWORD CHECK ---
        function checkPassword() {
            if (passwordInput.value === PASSWORD) {
                // Success
                errorMsg.style.opacity = '0';
                startExperience();
            } else {
                // Error
                errorMsg.style.opacity = '1';
                passwordInput.value = '';
                passwordInput.focus();
                // Shake effect
                passwordInput.classList.add('shake');
                setTimeout(() => passwordInput.classList.remove('shake'), 300);
            }
        }

        // Support Enter key
        passwordInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        // --- EXPERIENCE FLOW ---
        function startExperience() {
            // 1. Play Selected Music
            const selectedMusic = document.getElementById('music-select').value;
            music.src = selectedMusic;
            music.volume = 0.5;
            music.play().catch(e => console.log("Audio play failed:", e));

            // 2. Launch Fireworks
            launchFireworks();

            // 3. Hide Lock Screen
            lockScreen.style.opacity = '0';
            setTimeout(() => {
                lockScreen.style.display = 'none';

                // 4. Show Intro
                showIntro();
            }, 1000);
        }

        function showIntro() {
            introScreen.style.display = 'flex';
            // Force reflow
            void introScreen.offsetWidth;
            introScreen.classList.add('active');

            // 5. Hide Intro and Show Main Content
            setTimeout(() => {
                introScreen.style.opacity = '0';
                setTimeout(() => {
                    introScreen.style.display = 'none';
                    showMainContent();
                }, 1000);
            }, 4000); // 4 seconds total intro time
        }

        function showMainContent() {
            mainContent.style.opacity = '1';
            // Animate Timeline after a delay
            setTimeout(() => {
                timeline.classList.add('visible');
            }, 1000);
        }

        // --- FIREWORKS ---
        function launchFireworks() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 2000 };

            function random(min, max) {
                return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function () {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 50 * (timeLeft / duration);

                // since particles fall down, start a bit higher than random
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        // --- DATE COUNTER ---
        function updateCounter() {
            const now = new Date();
            const diff = now - TARGET_DATE;

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('days').innerText = days;
            document.getElementById('hours').innerText = hours;
            document.getElementById('minutes').innerText = minutes;
            document.getElementById('seconds').innerText = seconds;
        }

        updateCounter();
        setInterval(updateCounter, 1000); // Update every second

        // --- MODAL LOGIC ---
        function openModal() {
            letterModal.classList.add('open');
        }

        function closeModal() {
            letterModal.classList.remove('open');
        }

        // Close when clicking outside content
        letterModal.addEventListener('click', (e) => {
            if (e.target === letterModal) {
                closeModal();
            }
        });

        // --- HEART GAME LOGIC ---
        let clickCount = 0;
        const TARGET_CLICKS = 15; // Number of clicks to fill
        const heartFillPath = document.getElementById('heart-fill-path');
        const surpriseModal = document.getElementById('surprise-modal');
        let confettiInterval;

        function handleHeartClick(container) {
            if (clickCount >= TARGET_CLICKS) return;

            clickCount++;

            // 1. Elastic Bounce Animation
            container.classList.remove('beat-active');
            void container.offsetWidth; // trigger reflow
            container.classList.add('beat-active');

            // HAPTIC FEEDBACK (Mobile)
            if (navigator.vibrate) {
                navigator.vibrate(50); // Vibrate for 50ms
            }

            // 2. Fill Logic (Move Rect Up)
            // Height of SVG is ~30. Start y=30 (empty), End y=0 (full)
            const maxVal = 30;
            const newY = maxVal - ((clickCount / TARGET_CLICKS) * maxVal);

            const fillRect = document.getElementById('fill-rect');
            if (fillRect) {
                fillRect.setAttribute('y', newY);
            }

            // 3. Mini Confetti Burst from Heart
            const rect = container.getBoundingClientRect();
            const center = {
                x: rect.left + rect.width / 2,
                y: rect.top + rect.height / 2
            };

            // Normalize coordinates for confetti (0-1)
            const xNorm = center.x / window.innerWidth;
            const yNorm = center.y / window.innerHeight;

            confetti({
                particleCount: 15,
                spread: 60,
                origin: { x: xNorm, y: yNorm },
                colors: ['#ff0000', '#ffcccc', '#ffffff'],
                shapes: ['heart'],
                startVelocity: 20,
                gravity: 0.8,
                scalar: 0.7,
                ticks: 30
            });

            // 4. Check Win
            if (clickCount >= TARGET_CLICKS) {
                setTimeout(() => {
                    showSurprise();
                }, 400);
            }
        }

        function showSurprise() {
            surpriseModal.classList.add('active');

            // Spawn background floating hearts
            for (let i = 0; i < 20; i++) {
                createBgHeart();
            }

            // HEART SHAPED CONFETTI
            var duration = 5 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = {
                startVelocity: 30,
                spread: 360,
                ticks: 100,
                zIndex: 2200,
                shapes: ['heart'], // Heart shapes!
                colors: ['#ff0000', '#ffcccc', '#ffffff']
            };

            // Clear any existing interval
            if (confettiInterval) clearInterval(confettiInterval);

            confettiInterval = setInterval(function () {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) {
                    return clearInterval(confettiInterval);
                }

                var particleCount = 100 * (timeLeft / duration);
                // Random bursts
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }

        function createBgHeart() {
            const heart = document.createElement('div');
            heart.classList.add('bg-heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 5 + 5) + 's'; // 5-10s
            heart.style.fontSize = (Math.random() * 3 + 1) + 'rem';
            surpriseModal.appendChild(heart);
        }

        function closeSurprise() {
            surpriseModal.classList.remove('active');
            // Remove bg hearts to save resources
            const hearts = document.querySelectorAll('.bg-heart');
            hearts.forEach(h => h.remove());

            // Stop confetti
            if (confettiInterval) clearInterval(confettiInterval);
        }
    </script>
</body>

</html>